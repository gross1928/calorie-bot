# üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

### Cron –∑–∞–¥–∞—á–∏

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `node-cron` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á:

#### 1. –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ VIP –æ—Ç—á–µ—Ç—ã
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** `0 19 * * 0` (–∫–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 19:00)
- **–§—É–Ω–∫—Ü–∏—è:** `sendWeeklyReports()`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç—á–µ—Ç–æ–≤ VIP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å:** Europe/Moscow

#### 2. –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** `0 9 * * *` (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 09:00)
- **–§—É–Ω–∫—Ü–∏—è:** `sendDailyReports()`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£—Ç—Ä–µ–Ω–Ω—è—è —Å–≤–æ–¥–∫–∞ –∑–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –¥–µ–Ω—å –¥–ª—è –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å:** Europe/Moscow

#### 3. –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** `0 9 * * 1` (–∫–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 09:00)
- **–§—É–Ω–∫—Ü–∏—è:** `createWeeklyChallenge()`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å:** Europe/Moscow

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–í—Å–µ cron –∑–∞–¥–∞—á–∏ –≤–∫–ª—é—á–∞—é—Ç:
- Try-catch –±–ª–æ–∫–∏ –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –æ—à–∏–±–æ–∫
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å
- –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–æ—Å—Ç—É–ø–Ω—ã –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
- `/test_weekly_vip_report` - —Ç–µ—Å—Ç VIP –æ—Ç—á–µ—Ç–æ–≤
- `/test_daily_report` - —Ç–µ—Å—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤
- `/my_weekly_report` - –ø–æ–ª—É—á–∏—Ç—å –ª–∏—á–Ω—ã–π VIP –æ—Ç—á–µ—Ç

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –æ—Ç–ø—Ä–∞–≤–∫–∞–º–∏: 150ms
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∞—Ä–∏—Ñ–Ω—ã–º –ø–ª–∞–Ω–∞–º –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `node-cron`: ^4.1.0 - –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
- `node-telegram-bot-api`: ^0.64.0 - Telegram API
- `@supabase/supabase-js`: ^2.39.0 - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- `openai`: ^4.24.1 - –ò–ò –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤
